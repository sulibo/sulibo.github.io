<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Libo Su's Blog</title>
    <description>Welcome to my blog.</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 28 Jul 2020 20:04:05 +0200</pubDate>
    <lastBuildDate>Tue, 28 Jul 2020 20:04:05 +0200</lastBuildDate>
    <generator>Jekyll v3.8.6</generator>
    
      <item>
        <title>Kalman filter</title>
        <description>&lt;p&gt;Kalman fiter is one of the most important and widely used estimation algorithms. When taking the &lt;a href=&quot;https://www.coursera.org/specializations/self-driving-cars&quot;&gt;Self-Driving Cars&lt;/a&gt; courses on &lt;a href=&quot;https://www.coursera.org&quot;&gt;Coursera&lt;/a&gt;, I find the introduction of the Kalman filter in the course a bit brief. So I decided to write this post to provide more information on it. 
&lt;!--more--&gt;&lt;/p&gt;

&lt;p&gt;From a control perspective, the Kalman filter is similar to a state observer. It uses both prediction and the measurement to provide an optimal estimate of the states amid the uncertainties/sensors in the model and measurements.&lt;/p&gt;

&lt;h1 id=&quot;state-observer&quot;&gt;State Observer&lt;/h1&gt;
&lt;p&gt;Let us start with a short introduction to state observer. 
For a dynamical system, it is not always to obtain information on all state variables in practice. In this case, a state observer is designed to estimate the states of the system and then will be used for control design.&lt;/p&gt;

&lt;p&gt;Consider a linear time invariant system, represented in the state space form as below&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{equation}
\begin{aligned}
x_k &amp;=Ax_{k-1}+Bu_k, \\
y_k &amp;=Cx_k,
\end{aligned}
\label{equ:discrete_time_system}
\end{equation} %]]&gt;&lt;/script&gt;

&lt;p&gt;where $x_k\in\mathcal{R}^n$, $u_k\in\mathcal{R}^m$, $y_k\in\mathcal{R}^p$ are the state, input and output of the system at time step $k$.&lt;/p&gt;

&lt;p&gt;Given the model ($A,B,C$) and the measurements ($y_k$), a state observer is given by the following equations&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{equation}
\begin{aligned}
\hat{x}_k &amp;= A\hat{x}_{k-1}+Bu_{k-1}+K(y_k-\hat{y}_k),\\
\hat{y}_k &amp;= C\hat{x}_k,
\end{aligned}
\label{equ:observer}
\end{equation} %]]&gt;&lt;/script&gt;

&lt;p&gt;where &lt;script type=&quot;math/tex&quot;&gt;\hat{x}_{k}&lt;/script&gt; is the estimate of the state $x_k$, and $K$ is gain of the observer to be designed.&lt;/p&gt;

&lt;p&gt;The left-hand side of the first equation in \eqref{equ:observer} can be divided into:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;a prediction part &lt;script type=&quot;math/tex&quot;&gt;A\hat{x}_{k-1}+Bu_{k-1}&lt;/script&gt; calculated based on the state estimate and input at the previous step,&lt;/li&gt;
  &lt;li&gt;a correction part $K(y_k-\hat{y}_k)$ calculated based on the difference of the measured and predicted outputs.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The configuration of a state observer is shown in the following figure.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/posts/observer_block_diagram.svg&quot; alt=&quot;Observer block diagram\label{fig:observer_block_diagram}&quot; title=&quot;observer block diagram&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The goal of the state observer is to provide an accurate estimate of the state, which is done by choosing a proper observer $K$ such that the estimation error $e_k=x_k-\hat{x}_k$ converges to zero.&lt;/p&gt;

&lt;p&gt;It follows from \eqref{equ:discrete_time_system} and \eqref{equ:observer} that&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
e_{k}=(I-KC)e_{k-1}.
\label{equ:error}
\end{equation}&lt;/script&gt;

&lt;p&gt;Then the observer gain $K$ should be chosen such that the system \eqref{equ:error} is stable.&lt;/p&gt;

&lt;h1 id=&quot;kalman-filter&quot;&gt;Kalman filter&lt;/h1&gt;
&lt;p&gt;However, in reality, we will need to consider the noises/uncertainties in the model and the measurement sensors. The Kalman filter is designed to handle this situation.&lt;/p&gt;

&lt;p&gt;Taking into the noises into account, the system \eqref{equ:discrete_time_system} is transformed into:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{equation}
\begin{aligned}
x_k &amp;=x_{k-1}+Bu_{k-1}+w_{k-1}\\
y_k &amp;=Cx_k+v_k,
\end{aligned}
\label{equ:discrete_time_system_noise}
\end{equation} %]]&gt;&lt;/script&gt;

&lt;p&gt;where $w_k\sim \mathcal{N}(0,Q)$ is the process noise, and $v_k\sim \mathcal{N}(0,R)$ is the measurement noise. These noises are assumed to be independent (of each other), white and noramally distributed.&lt;/p&gt;

&lt;p&gt;The Kalman filter is given by&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{equation}
\begin{aligned}
\hat{x}_k &amp;=A\hat{x}_{k-1}+Bu_{k-1}+K(y_k-\hat{y})\\
\hat{y}_k &amp;=C(A\hat{x}_{k-1}+Bu_{k-1})
\end{aligned}
\label{equ:kalman_filter}
\end{equation} %]]&gt;&lt;/script&gt;

&lt;p&gt;The configuration of the Kalman filter is shown below.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/posts/filter_block_diagram.svg&quot; alt=&quot;Kalman filter block diagram&quot; title=&quot;Kalman filter block diagram&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Now let us introduce some concepts in the context of Kalman filter.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Priori estimate: &lt;script type=&quot;math/tex&quot;&gt;\hat{x}_k^-=A\hat{x}_{k-1}+Bu_{k-1}&lt;/script&gt;.&lt;/li&gt;
  &lt;li&gt;Posterior estimate: &lt;script type=&quot;math/tex&quot;&gt;\hat{x}_k=A\hat{x}_{k-1}+Bu_{k-1}+K(y_k-\hat{y}_k)=\hat{x}_k^-+K(y_k-C\hat{x}_k^-)&lt;/script&gt;.&lt;/li&gt;
  &lt;li&gt;Priori estimate error: $e_k^-=x_k-\hat{x}^-$.&lt;/li&gt;
  &lt;li&gt;Posterior estimate error: $e_k = x_k -\hat{x}$.&lt;/li&gt;
  &lt;li&gt;Priori estimate error covariance: $P_k^-=E[e_k^-e_k^{-\top}]$&lt;/li&gt;
  &lt;li&gt;Posterior estimate error covariance: $P_k=E[e_ke_k^\top]$&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The Kalman filter choose a $K$ known as the Kalman filter gain such that the posteriori estimate $\hat{x}_k$ is optimal in sense that the variance of the posteriori estimate error is minimal. In addition, the posteriori estimate $\hat{x}_k$ is an unbiased estimate of $x_k$.&lt;/p&gt;

&lt;h2 id=&quot;unbiased-estimate&quot;&gt;Unbiased estimate&lt;/h2&gt;
&lt;p&gt;The expected value of the posteriori estimate is given by&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{equation}
\begin{aligned}
E[\hat{x}_k]&amp;=E[\hat{x}_k^- +K(y_k-C\hat{x}_k^-)]\\
            &amp;=E[\hat{x}_k^-]+K(E[Cx_k]+E[v_k]-E[C\hat{x}_k^-])\\
            &amp;=E[\hat{x}_k^-]+KC(E(x_k)-E[\hat{x}_k^-]).
\end{aligned}
\end{equation} %]]&gt;&lt;/script&gt;

&lt;p&gt;Setting the initial estimate to be the initial value leads to&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;E[\hat{x}_k^-]=E[x_k],&lt;/script&gt;

&lt;p&gt;which indicates&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;E[\hat{x}_k]=E[x_k].&lt;/script&gt;

&lt;p&gt;So the Kalman filter always provides an unbiased estimate of the states regardless of the Kalman filter gain.&lt;/p&gt;

&lt;h2 id=&quot;minimum-variance&quot;&gt;Minimum variance&lt;/h2&gt;

&lt;p&gt;The Kalman filter gain $K$ is chosen such that the variance of the posteriori error $e_k$ is minimal.&lt;/p&gt;

&lt;p&gt;From \eqref{equ:kalman_filter}, we have&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
e_k=x_k-\hat{x}_k=x_k-\hat{x}_k^- - K(Cx_k+v_k-C\hat{x}_k^-).
\end{equation}&lt;/script&gt;

&lt;p&gt;Take the covariance of $e_k$, yields&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
P_k=E[e_ke_k^\top]=(I-KC)P_k^- (I-KC)^\top + KRK^\top.
\end{equation}&lt;/script&gt;

&lt;p&gt;That is&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
P_k=P_k^- -KCP_k^- - P_k^- C^\top K^\top + K(CP_k^-C+R)K^\top.
\label{equ:Pk_Pk_minus}
\end{equation}&lt;/script&gt;

&lt;p&gt;Then the Kalman filter design problem become an optimal problem&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
\min_{K}\mathrm{tr} (P_k)
\end{equation}&lt;/script&gt;

&lt;p&gt;Note that for any matrix &lt;script type=&quot;math/tex&quot;&gt;M&lt;/script&gt; and a symmetric matrix $N$,&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation*}
\frac{\partial \mathrm{tr}(MNM^\top)}{\partial M}=2MN.
\end{equation*}&lt;/script&gt;

&lt;p&gt;Then differentiating $\mathrm{tr} (P_k)$ with respect to $K$ and settting to zero, yields
&lt;script type=&quot;math/tex&quot;&gt;\begin{equation}
\frac{\partial \mathrm{tr} (P_k)}{\partial K}=-2(P_k^-C^\top)+2K(CP_k^-C^\top+R)=0.
\label{equ:trP}
\end{equation}&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Solving the equation above for $K$, we have&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
K=P_k^-C^\top(CP_k^-C^\top+R)^{-1}.
\label{equ:kalman_filter_gain}
\end{equation}&lt;/script&gt;

&lt;p&gt;Substitute \eqref{equ:kalman_filter_gain} into \eqref{equ:Pk_Pk_minus}, yields&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{equation}
P_k=(I-KC)P_k^-.
\end{equation}&lt;/script&gt;

&lt;p&gt;For $P_k^-$, we have&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{equation}
\begin{aligned}
P_k^-&amp;=E[e^-_k e_k^{- \top}]=E[(x_k-x_k^-)(x_k-x_k^-)^\top]\\
     &amp;=E[(Ae_{k-1}+w_{k-1})(Ae_{k-1}+w_{k-1})^\top]\\
     &amp;=AP_{k-1}A^\top+Q.
\end{aligned}
\end{equation} %]]&gt;&lt;/script&gt;

&lt;h2 id=&quot;kalman-filter-process&quot;&gt;Kalman filter process&lt;/h2&gt;
&lt;p&gt;Now, let us put everything together to form the Kalman filter algorithm. The algorithm consists of two parts:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Predict
    &lt;ul&gt;
      &lt;li&gt;Project the state ahead&lt;/li&gt;
      &lt;li&gt;Project the error covariance ahead&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Update
    &lt;ul&gt;
      &lt;li&gt;Compute the Kalman filter gain&lt;/li&gt;
      &lt;li&gt;Update estimate with measurement&lt;/li&gt;
      &lt;li&gt;Update the error covariance&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;/assets/img/posts/kalman_filter_process.svg&quot; alt=&quot;Kalman filter process&quot; title=&quot; Kalman filter process&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Mon, 20 Jul 2020 17:51:18 +0200</pubDate>
        <link>http://localhost:4000/articles/2020-07/kalman_filter</link>
        <guid isPermaLink="true">http://localhost:4000/articles/2020-07/kalman_filter</guid>
        
        <category>control engineering</category>
        
        <category>autonomous driving</category>
        
        
        <category>Tech</category>
        
      </item>
    
      <item>
        <title>Some Handy Software Tools</title>
        <description>&lt;p&gt;Here are some software tools I used which are handy for my daily use of laptops.
&lt;!--more--&gt;&lt;/p&gt;
&lt;h5 id=&quot;vim&quot;&gt;Vim&lt;/h5&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Plug Managements: &lt;a href=&quot;https://github.com/junegunn/vim-plug&quot;&gt;vim-plug&lt;/a&gt;&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Plugins:&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vim-latex/vim-latex&quot;&gt;Vim-Latex&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/lifepillar/vim-mucomplete&quot;&gt;Vim-mucomplete&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/scrooloose/nerdtree&quot;&gt;Nerdtree&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/kristijanhusak/vim-hybrid-material&quot;&gt;Vim-hybrid-material&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vim-airline/vim-airline&quot;&gt;vim-airline&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vim-airline/vim-airline-themes&quot;&gt;vim-airline-themes&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/tpope/vim-fugitive&quot;&gt;vim-fugitive&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vimwiki/vimwiki&quot;&gt;vimwiki&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/itchyny/calendar.vim&quot;&gt;calendar.vim&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/ctrlpvim/ctrlp.vim&quot;&gt;ctrlp.vim&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/lazywei/vim-matlab&quot;&gt;vim-matlab&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vim-voom/VOoM&quot;&gt;VOoM&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/shime/vim-livedown&quot;&gt;vim-livedown&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;latex&quot;&gt;LaTeX&lt;/h5&gt;

&lt;ul&gt;
  &lt;li&gt;LaTeX tutorial: &lt;a href=&quot;http://dralpha.altervista.org/zh/tech/lnotes2.pdf&quot;&gt;LaTeX notes (Chinese)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Tikz Examples: &lt;a href=&quot;http://www.texample.net&quot;&gt;TeXample.net&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Editor: &lt;a href=&quot;https://www.texstudio.org/&quot;&gt;TexStudio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;matlab&quot;&gt;MATLAB&lt;/h5&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/matlab2tikz/matlab2tikz&quot;&gt;matlab2tikz&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h5 id=&quot;reference-managements&quot;&gt;Reference Managements&lt;/h5&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zotero.org/&quot;&gt;Zotero&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zotero.org/&quot;&gt;Mendeley&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.jabref.org/&quot;&gt;Jabref&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Thu, 07 Dec 2017 16:20:36 +0100</pubDate>
        <link>http://localhost:4000/articles/2017-12/some-handy-software-tools</link>
        <guid isPermaLink="true">http://localhost:4000/articles/2017-12/some-handy-software-tools</guid>
        
        
      </item>
    
      <item>
        <title>Octopress 3 Tutorial</title>
        <description>&lt;p&gt;Octopress is a blog toolkit built on top of Jekyll. Using Octopress, we can easily build a static blog website from scratch. Recently, Octopress 3.0 has been released on its GitHub page. Octopress 3.0 is a full rewrite of Octopress 2. This version is now only a plugin for Jekyll so no division between Octopress and Jekyll. The management is cleaner than the previous versions. However,  the official documents are not complete yet. So I decided to write a tutorial for it, including installation, basic use, deployment to Github page, and also how
to use Octopress from different places. 
&lt;!--more--&gt;&lt;/p&gt;
&lt;h1 id=&quot;install&quot;&gt;Install&lt;/h1&gt;
&lt;h2 id=&quot;preparation&quot;&gt;Preparation&lt;/h2&gt;
&lt;p&gt;Two packages are required before installing Octopress: Ruby and Git.&lt;/p&gt;

&lt;p&gt;In Arch Linux, you can install these two software by the following commands in your terminal.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;pacman &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt; ruby 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;pacman &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt; git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For other Linux distributions, use the corresponding package managers to install these two packages. For example, for Ubuntu user, use the following commands.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;ruby 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sudo &lt;/span&gt;apt-get &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;git 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;install-octopress&quot;&gt;Install Octopress&lt;/h2&gt;
&lt;p&gt;With Ruby and Git installed, you can easily install Octopress.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;octopress
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Or you can use &lt;a href=&quot;https://bundler.io&quot;&gt;Bundler&lt;/a&gt;. Bundler can be installed by Gem.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;gem &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;bundler

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Create a fine named ‘Gemfile’ in your site’s root directory with the following content:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-Gemfile&quot;&gt;source 'https://rubygems.org'
gem 'octopress', '~&amp;gt;3.0'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And then run&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;bundle
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h1 id=&quot;setup&quot;&gt;Setup&lt;/h1&gt;
&lt;p&gt;With the new Octopress CLI commands, seting up your blog site is easy.&lt;/p&gt;

&lt;p&gt;First, navigate to your working directory and run the following command:&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress new your_blog_site_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Octopress will generate a directory named &lt;strong&gt;your_blog_site_name&lt;/strong&gt; with scaffolding for the website.&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;your_blog_site_name
.
│___ _config.yml
|___ .gitignore
|___ .sass-cache
|___ about.md
|___ Gemfile
|___ Gemfile.lock
|___ index.md
|___ _posts
|    |___ 2017-10-07-welcome-to-jekyll.makrdown 
|___ _templates
     |___ draft 
     |___ page 
     |___ post
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;You will need to configure the setting for your website. The configuration file is &lt;strong&gt;_config.yml&lt;/strong&gt; located in the root directory of the site. Below is an example of such file. In this file, you can add the information of your site (title, url, social accouts, etc.).&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;# Welcome to Jekyll!
#
# This config file is meant for settings that affect your whole blog, values
# which you are expected to set up once and rarely edit after that. If you find
# yourself editing this file very often, consider using Jekyll's data files
# feature for the data you need to update frequently.
#
# For technical reasons, this file is *NOT* reloaded automatically when you use
# 'bundle exec jekyll serve'. If you change this file, please restart the server process.

# Site settings
# These are used to personalize your new site. If you look in the HTML files,
# you will see them accessed via Libo Su's Blog, sulibozju@gmail.com, and so on.
# You can create any custom variable you would like, and they will be accessible
# in the templates via .
title: Your awesome title
email: your-email@example.com
description: &amp;gt;- # this means to ignore newlines until &quot;baseurl:&quot;
  Write an awesome description for your new site here. You can edit this
  line in _config.yml. It will appear in your document head meta (for
  Google search results) and in your feed.xml site description.
baseurl: &quot;&quot; # the subpath of your site, e.g. /blog
url: &quot;&quot; # the base hostname &amp;amp; protocol for your site, e.g. http://example.com
twitter_username: jekyllrb
github_username:  jekyll

# Build settings
markdown: kramdown
theme: minima
plugins:
  - jekyll-feed

# Exclude from processing.
# The following items will not be processed, by default. Create a custom list
# to override the default setting.
# exclude:
#   - Gemfile
#   - Gemfile.lock
#   - node_modules
#   - vendor/bundle/
#   - vendor/cache/
#   - vendor/gems/
#   - vendor/ruby/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h1 id=&quot;basic-usage&quot;&gt;Basic Usage&lt;/h1&gt;
&lt;h2 id=&quot;create-a-post&quot;&gt;Create a Post&lt;/h2&gt;
&lt;p&gt;Octopress provides the following Octopress CLI command to create a post&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress new post Hello World 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This command create a new blog post with the tile of &lt;code class=&quot;highlighter-rouge&quot;&gt;Hello World&lt;/code&gt;. You can change the title to any title you like. The newly created post can be found in the &lt;strong&gt;_post&lt;/strong&gt; directory, which looks like below:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---
layout: post 
title: &quot;Hello World&quot;
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The post file is a markdown file by default. You can add you content below the second &lt;code class=&quot;highlighter-rouge&quot;&gt;---&lt;/code&gt;. The lines between the two triple-hyphen &lt;code class=&quot;highlighter-rouge&quot;&gt;---&lt;/code&gt; is the YAML front matter, where you can set predefined and custom variables, such as Categories, Tags and permalink for the post. More details can be found in &lt;a href=&quot;https://jekyllrb.com/docs/frontmatter/&quot;&gt;Jekyll Documentation&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;build-and-preview-the-site&quot;&gt;Build and Preview the site&lt;/h2&gt;
&lt;p&gt;Octopress use Jekyll commands for building and preview the site. We can use the following command to build:&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll build 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This command will build a static HTML website in the &lt;strong&gt;_site&lt;/strong&gt; directory.&lt;/p&gt;

&lt;p&gt;To preview the site built, use the command below&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll serve 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Use you favorite browser to view it at the address &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost: 4000&lt;/code&gt;.&lt;/p&gt;

&lt;h1 id=&quot;deploy&quot;&gt;Deploy&lt;/h1&gt;
&lt;p&gt;Octopress includes a deploy module, called &lt;a href=&quot;https://github.com/octopress/deploy&quot;&gt;octopress deploy&lt;/a&gt; that allows your site to be deployed to Rsync, S3 or GitHub papges. I deploy my site on GitHub page and the required steps are listed below.&lt;/p&gt;

&lt;p&gt;First, create a repository named &lt;strong&gt;username.github.io&lt;/strong&gt; on your Github. Your blog can be accessed via “https://username.github.io” after deployment. The “username” should be your own username.&lt;/p&gt;

&lt;p&gt;Then, set up the deployment configuration by &lt;code class=&quot;highlighter-rouge&quot;&gt;octopress deploy&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress deploy init git git@github.com:username/username.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Remember to replace “username” with your own username.&lt;/p&gt;

&lt;p&gt;Update the &lt;strong&gt;_config.yml&lt;/strong&gt; if necessary (for example, add your blog URL). The line start with “url” in &lt;strong&gt;_config.yml&lt;/strong&gt; should be&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;url: &quot;https://username.github.io&quot; # the base hostname &amp;amp; protocal for your site , e.g. http://exampel.com 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Build your site.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Deploy your site to GitHub page.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress deploy 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After this, you can view your site at https://username.github.io.&lt;/p&gt;

&lt;p&gt;With &lt;code class=&quot;highlighter-rouge&quot;&gt;octopress deploy&lt;/code&gt;, a master branch is created in the directory &lt;strong&gt;.deploy&lt;/strong&gt; and pushed to your GitHub page repository.&lt;/p&gt;

&lt;p&gt;To manage the source code, we can create a &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch and push it to your GitHub page repository.&lt;/p&gt;

&lt;p&gt;First add the following two lines in your &lt;code class=&quot;highlighter-rouge&quot;&gt;.gitignore&lt;/code&gt; file.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;.deploy 
_deploy.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set your site’s root directory as a Git repository. In your site’s root directory, run&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git init
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Add the remote.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git remote add origin git@github.com:username/username.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Create the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git checkout &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Push the source code to GitHub.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git add &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Initialization&quot;&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git push origin &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h1 id=&quot;use-in-different-places&quot;&gt;Use in different places&lt;/h1&gt;
&lt;p&gt;This section describes how to recreate a local repository of your Octopress blog. This allows you to blog from different places.&lt;/p&gt;

&lt;p&gt;Before we start, let us have a look at how Octopress works. 
If you follow the deployment steps in the previous section, your Octopress repository on GitHub have two branches, &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt;. The &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch contains the files to generate the blog and the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; contains the blog itself. In the local repository, the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch is stored in the subdirectory named &lt;strong&gt;.deploy&lt;/strong&gt;. With ‘.deploy’ in the &lt;strong&gt;.gitignore&lt;/strong&gt; file, it is ignored when you run &lt;code class=&quot;highlighter-rouge&quot;&gt;git push origin source&lt;/code&gt;. The &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch is updated when you run &lt;code class=&quot;highlighter-rouge&quot;&gt;octopress deploy&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;clone-your-blog-to-the-new-location&quot;&gt;Clone your blog to the new location&lt;/h2&gt;
&lt;p&gt;At the new location, clone the &lt;code class=&quot;highlighter-rouge&quot;&gt;source&lt;/code&gt; branch to the local Octopress folder.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git clone &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;git@github.com:username/username.github.io.git your_blog_site_name
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then install Octopress using Bundler.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;your_blog_site_name
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;bundle 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Build the site.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll build
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Set up GitHub pages deployment.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress deploy init git git@github.com:username/username.github.io.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Pull the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch from the GitHub repository via &lt;code class=&quot;highlighter-rouge&quot;&gt;octopress deploy&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress deploy
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Note that in Octopress 3.0, &lt;code class=&quot;highlighter-rouge&quot;&gt;octopress deploy&lt;/code&gt; includes the step of cloning (pulling) the &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; branch from the remote to the folder &lt;strong&gt;.deploy&lt;/strong&gt; folder.&lt;/p&gt;

&lt;h2 id=&quot;pushing-changes-from-two-different-machines&quot;&gt;Pushing changes from two different machines&lt;/h2&gt;
&lt;p&gt;To blog from more than one computer, you must make sure you push everything before switching between computers. In the first machine, follow the instructions after you have made the changes&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll build 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress deploy &lt;span class=&quot;c&quot;&gt;# update the blog and the remote master branch &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git add &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;some comments&quot;&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git push origin &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# update the remote source branch&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In the second machine, pull the changes&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git pull origin &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;#update the local source branch &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;After making the changes, update the blog and update the repository again&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jekyll build 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;octopress deploy &lt;span class=&quot;c&quot;&gt;# udpate the blog and the remote master branch &lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git add &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git commit &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;some comments&quot;&lt;/span&gt; 
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;git push origin &lt;span class=&quot;nb&quot;&gt;source&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

</description>
        <pubDate>Sat, 07 Oct 2017 09:50:20 +0200</pubDate>
        <link>http://localhost:4000/articles/2017-10/octopress-3-tutorial</link>
        <guid isPermaLink="true">http://localhost:4000/articles/2017-10/octopress-3-tutorial</guid>
        
        <category>jekyll</category>
        
        <category>blog</category>
        
        <category>github-page</category>
        
        <category>octopress</category>
        
        
        <category>Tech</category>
        
      </item>
    
  </channel>
</rss>
